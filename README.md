## 1. 프로젝트 개요

다양한 이미지 포맷**`(png, jpeg, jpg, Tif, bmp)`**을 읽고 편집이 가능한 **Application**을 제작한다.

- UI: **WPF**로 제작
- 영상 처리 엔진: **C++ 네이티브 라이브러리**
- ImageJ, Kimp 와 같은 이미지 처리 어플리케이션의 기능을 모방하는 수준으로 한다.

---

## 2. 기능 명세 (Functional Specification)

### **2.1 사용자 인터페이스 (UI Layout)**

- **메인 창 레이아웃**
    - 상단: **메뉴바**
        - [파일] → 열기 **`(Ctrl+O)`**, 저장 **`(Ctrl+S)`**, 다른 이름으로 저장
        - [편집] → 실행 취소 **`(Ctrl+Z)`**, 다시 실행
        - [보기] → 히스토그램 보기
            
                       → 미니맵 보기
            
        - [도구]
            - 이미지 자르기
            - ROI 선택
            - 이미지 복사, 붙여넣기
    - 좌측: **이미지 표시 영역 (Canvas 2개)**
        - 원본 이미지
        - 처리된 이미지
        - 스플리터(splitter)로 크기 조절 가능
    - 우측: **도킹 패널 (기능 영역)**
        - 버튼 그룹 (기본 조작 / 이미지 처리 / 고급 기능)
        - 리스트박스 (작업기록 표시)
        - 텍스트박스 (로그 출력 영역)
    - 하단: **상태바(Status Bar)**
        - 현재 파일명
        - 이미지 해상도
        - 처리 시간(ms)
        - 확대/축소 비율
- **히스토그램 창**
    - 계산된 히스토그램(분포) 출력
- **미니맵 창**
    - 확대 축소 된 영역에 대한 맵을 제공
    - ROI 선택 영역 메타 데이터 제공
- **템플릿 매칭 창**
    - 템플릿 매칭할 작은 이미지를 출력

---

### **2.2 파일 처리 기능**

- **`PNG, JPEG, BMP`** 등 다양한 포맷 지원
- 저장 및 다른 이름으로 저장
- 단축키:
    - **`Ctrl+S`** → 저장
    - **`Ctrl+O`** → 열기
    - **`Ctrl+Z`** → 실행 취소
    - **`Ctrl+C`** → 이미지 복사
    - **`Ctrl+V`** → 이미지 붙여넣기

---

### **2.3 기본 이미지 조작**

- **확대/축소** (마우스 휠 + 드래그로 이동 지원)
- **이미지 자르기(마우스 드래그)**

---

### **2.4 영상 처리 기능**

- **형태학**
    - 팽창 **`(Morphological Dilation)`**
    - 수축 **`(Morphological Erosion)`**
    
    → 각 연산은 커널 크기를 파라미터로 받아야 한다.
    
- **색조 및 대비**
    - 평활화 **`(Equalization)`**
    - 오츠 이진화
    - 이진화 **`(Binarization)`**
        - 이진화는 **Thresholds**  파라미터로 받아야 한다.
- **필터링**
    - 라플라스**`(Laplacian)`** 필터
        - **KernelSize** 를 파라미터로 받아야한다.
    - 소벨**`(Sobel)`** 필터
        - **KernelSize** 를 파라미터로 받아야 한다.
    - 미분`(**Differential**)` 필터
    - 가우시안**`(Gaussian)`** 블러
        - KernelSize 를 파라미터로 받아야 한다.
        - 2차원 평면 가우시안 분포 **sigma** 를 파라미터로 받아야 한다.
    - 평균**`(Average)`** 블러
        - **KernelSize** 를 파라미터로 받아야 한다.
- **템플릿 매칭**
    - **NCC** (Normalized Cross Correlation)
    - **SAD** (Sum of Absolute Differences)
    - **SSD** (Sum of Squared Differences)
    
    → 매칭 스코어가 가장 높은 픽셀을 기준으로 템플릿 이미지 사이즈 만큼을 출력한다.
    
- **히스토그램**
    - RGB 분포 시각화

---

### **2.5 기타 기능**

- **히스토리 패널**
    - 실행한 연산 기록을 표시
    - 연산 실시 시간과 실행 시간 표시
- **로깅**
    - 처리 시각, 처리 시간(ms), 성공 여부 기록

---

## 3. 비기능 명세 (Non-Functional Specification)

- **성능**
    - SSE, CUDA 가속 지원
- **신뢰성**
    - 잘못된 파일 시 예외 처리
    - Undo/Redo 안정적 작동
- **사용성**
    - 직관적 버튼 배치
- **개발 제약**
    - Git Repository에 매일 커밋
    - 영상 처리 알고리즘은 직접 구현 (OpenCV 금지)

---

## 4. UI 명세 (WPF 기준)

### **메인 윈도우 구조**

```
+-------------------------------------------------------+
| [메뉴바: 파일 | 편집 | 보기 | 도움말 ]                 |
+-------------------------------------------------------+
| [이미지 뷰어 1]   | [이미지 뷰어 2]   | [도킹 패널]    |
| (원본 이미지)     | (처리된 이미지)   |                |
|                   |                  | [버튼 그룹]    |
|                   |                  | [히스토리]     |
|                   |                  | [로그창]       |
+-------------------------------------------------------+
| [상태바: 파일명 | 해상도 | 확대비율 | 처리시간]         |
+-------------------------------------------------------+

```

---

### **도킹 패널 상세**

- **버튼 그룹**
    - 기본 조작: 확대/축소, 자르기
        - 마우스 동작 제공
    - 영상 처리: 팽창, 수축, 평활화, 이진화
        - 이진화 임계값과 팽창 수축 커널 모양 정하기 제공
    - 필터링: 가우시안, 라플라스, 소벨
        - 필터 사이즈 고르는 파라미터(슬라이더 바 제공)
    - 히스토그램 보기
    - 템플릿 매칭 실행
- **히스토리 (리스트박스)**
    - `[10:22:15] 가우시안 필터 적용`
    - `[10:22:18] 이진화 적용`
- **로그 (텍스트박스, 멀티라인, ReadOnly)**
    - `[INFO] 파일 로드 완료: test.png`
    - `[INFO] 처리 시간: 25ms`