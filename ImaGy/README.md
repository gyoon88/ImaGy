## 1. 프로젝트 개요

이미지 처리 및 편집이 가능한 Windows Application을 제작한다.

UI는 **WPF**로 제작하며, 영상 처리 엔진은 **C++ 네이티브 라이브러리**로 구현한다.

---

## 2. 기능 명세 (Functional Specification)

### **2.1 사용자 인터페이스 (UI Layout)**

- **메인 창 레이아웃**
    - 상단: **메뉴바**
        - [파일] → 열기 (Ctrl+O), 저장 (Ctrl+S), 다른 이름으로 저장, 종료
        - [편집] → 실행 취소 (Ctrl+Z), 다시 실행 (Ctrl+Y)
        - [보기] → 미니맵 토글, 히스토그램 보기, 로그 창 보기
        - [도움말] → 단축키 안내, 버전 정보
    - 좌측: **이미지 표시 영역 (Canvas 2개)**
        - 원본 이미지
        - 처리된 이미지
        - 스플리터(splitter)로 크기 조절 가능
    - 우측: **도킹 패널 (기능 영역)**
        - 버튼 그룹 (기본 조작 / 영상 처리 / 고급 기능)
        - 리스트박스 (히스토리 기록 표시)
        - 텍스트박스 (로그 출력 영역)
    - 하단: **상태바(Status Bar)**
        - 현재 파일명
        - 이미지 해상도
        - 처리 시간(ms)
        - 확대/축소 비율

---

### **2.2 파일 처리 기능**

- PNG, JPEG, BMP 등 다양한 포맷 지원
- 저장 및 다른 이름으로 저장
- 단축키:
    - Ctrl+S → 저장
    - Ctrl+O → 열기
    - Ctrl+Z → 실행 취소
    - Ctrl+Y → 다시 실행

---

### **2.3 기본 이미지 조작**

- **확대/축소** (마우스 휠 + 드래그로 이동 지원)
- **이미지 자르기** (드래그로 영역 선택 → 잘라내기)
- **미니맵** (이미지 전체 뷰 제공, 현재 뷰포트 표시)

---

### **2.4 영상 처리 기능**

- **기본 변형**
    - 팽창 (Morphological Dilation)
    - 수축 (Morphological Erosion)
    - 평활화 (Smoothing)
    - 이진화 (Thresholding)
- **필터링**
    - 가우시안 필터
    - 라플라스 필터
    - 소벨 필터
- **히스토그램**
    - RGB 분포 시각화
    - 누적 히스토그램
- **템플릿 매칭**
    - NCC (Normalized Cross Correlation)
    - SAD (Sum of Absolute Differences)
    - SSD (Sum of Squared Differences)

---

### **2.5 기타 기능**

- **히스토리 패널**
    - 실행한 연산 기록을 표시
    - 더블클릭 시 해당 상태로 롤백
- **로깅**
    - 처리 시각, 처리 시간(ms), 이미지 크기 등을 기록
    - 로그는 별도의 파일(`log.txt`)로 저장 가능

---

## 3. 비기능 명세 (Non-Functional Specification)

- **성능**
    - 실시간 또는 준실시간 처리
    - SSE, CUDA 가속 지원
- **신뢰성**
    - 잘못된 파일 시 예외 처리
    - Undo/Redo 안정적 작동
- **사용성**
    - 직관적 버튼 배치
    - 마우스 우클릭 컨텍스트 메뉴 지원
- **개발 제약**
    - Git Repository에 매일 커밋
    - 영상 처리 알고리즘은 직접 구현 (OpenCV 금지)

---

## 4. UI 명세 (WPF 기준)

### **메인 윈도우 구조**

```
+-------------------------------------------------------+
| [메뉴바: 파일 | 편집 | 보기 | 도움말 ]                |
+-------------------------------------------------------+
| [이미지 뷰어 1]   | [이미지 뷰어 2]   | [도킹 패널]    |
| (원본 이미지)     | (처리된 이미지)   |                |
|                   |                   | [버튼 그룹]    |
|                   |                   | [히스토리]     |
|                   |                   | [로그창]       |
+-------------------------------------------------------+
| [상태바: 파일명 | 해상도 | 확대비율 | 처리시간]        |
+-------------------------------------------------------+

```

---

### **도킹 패널 상세**

- **버튼 그룹**
    - 기본 조작: 확대/축소, 자르기
    - 영상 처리: 팽창, 수축, 평활화, 이진화
    - 필터링: 가우시안, 라플라스, 소벨
    - 히스토그램 보기
    - 템플릿 매칭 실행
- **히스토리 (리스트박스)**
    - `[10:22:15] 가우시안 필터 적용`
    - `[10:22:18] 이진화 적용`
- **로그 (텍스트박스, 멀티라인, ReadOnly)**
    - `[INFO] 파일 로드 완료: test.png`
    - `[INFO] 처리 시간: 25ms`